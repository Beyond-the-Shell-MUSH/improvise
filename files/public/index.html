<!DOCTYPE html>
<html lang="en">
<head>
<title>Stunt | Improvise</title>
<link type="text/css" rel="stylesheet" href="/css/bootstrap-2.0.1.min.css">
<link type="text/css" rel="stylesheet" href="/css/bootstrap-responsive-2.0.1.min.css">
<link type="text/css" rel="stylesheet" href="/css/moo-0.0.0.min.css">
<script type="text/javascript" src="/js/jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="/js/jquery.ui.core-1.8.18.min.js"></script>
<script type="text/javascript" src="/js/jquery.ui.widget-1.8.18.min.js"></script>
<script type="text/javascript" src="/js/underscore-1.3.1.min.js"></script>
<script type="text/javascript" src="/js/backbone-0.9.1.min.js"></script>
<script type="text/javascript" src="/js/moo-0.0.0.min.js"></script>
</head>
<body>
  <div class="container">
    <div id="browser"></div>
    <hr>
    <div class="row">
      <div class="span12">
        <ul>
          <li><a rel="object" data-object-number="0" href="/objects/0">#0</a></li>
          <li><a rel="object" data-object-number="2" href="/objects/2">#2</a></li>
          <li><a rel="object" data-object-number="10" href="/objects/10">#10</a></li>
        </ul>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    $(function() {
      Moo.Object.prototype.urlRoot = window.location.href + '//objects';

      var $browser = $('#browser');
      $browser.simpleObjectPanel();

      $('body').on('click', 'a[rel*=object]', function(e) {
        e.preventDefault();
        var on = $(e.target).data('object-number');
        var o = new Moo.Object({id: on});
        o.fetch({
          success: function(model, response) {
            $browser.simpleObjectPanel({object: o});
          },
          error: function(model, response) {
            $browser.simpleObjectPanel({object: o});
          }
        });
      });
    });
  </script>
</body>
</html>
