if(!window.Moo&&!document.Moo){Moo={}}(function(a){a.Interactive=function(m,e,n){var h=this;var l=n.session_state;var j=n.callback;var b=n.force;if(b||((window.JavascriptSocket||document.JavascriptSocket)&&(window.SocketManager||document.SocketManager))){var i;SocketManager.observe("loaded",function(){i=new Socket({ready:function(){i.connect(m,e)},connected:function(){i.send("GET / HTTP/1.1\n");i.send("Host: "+m+":"+e+"\n");i.send("Cookie: "+l+"\n");i.send("X-Break-A-Leg: stunt\n");i.send("Upgrade: moo\n");i.send("\n\n")},receive:function(o){j&&j(o)}},true)});h.send=function(o){i.send(o)}}else{var k;var f=1;var c=0;function d(){var p=k.responseText,o=Math.max(c,2048);c=k.responseText.length;p=p.slice(o,c);p&&j&&j(p)}function g(o){c=0;k=new XMLHttpRequest();k.onreadystatechange=function(){if(k.readyState===1){}else{if(k.readyState===2){}else{if(k.readyState===3){d()}else{if(k.readyState===4){if(k.status===200){f=1;d()}else{f*=2;d()}if(!k.beenAborted){setTimeout(g,f*1000)}k=null}}}}};if(o){k.open("POST","/__long_poll")}else{k.open("GET","/__long_poll")}k.setRequestHeader("X-Break-A-Leg","stunt");k.send(o)}g();h.send=function(o){o=o.trim();k.beenAborted=true;k.abort();g(o)}}return h}})(Moo);